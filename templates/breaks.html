{% extends 'base.html' %}

{% load static %}
{% load mathfilters %}
{% load customfilters %}

{% block main %}

<div class="slot-item-container">
    <div class="slot-item-image">
        <img src="{{ break.get_image_url }}" alt="break-image">
    </div>
    <div class="slot-item-detail">
        <div class="slot-item-detail-col slot-item-type">{{ break.type_name }}</div>
        <div class="slot-item-detail-col slot-item-name">{{ break.name }}</div>
        <div class="slot-item-detail-col slot-item-slots">
            {% for _ in ''|center:1 %}
            <div class="slot-set">
                {% for _ in ''|center:2 %}
                <div class="slot-row">
                    {% for _ in ''|center:6 %}
                    {% with forloop.parentloop.parentloop.counter0|mul:12 as set %}
                    {% with forloop.parentloop.counter0|mul:6 as row %}
                    {% with forloop.counter0 as slot %}
                    {% with set|add:row|add:slot as i %}
                    {% with break.slots|getitem:i as available %}
                    <div class="slot" data-index={{ i }}{% if available %} data-available{% endif %}>
                        <div class="speech-bubble">
                            <div class="speech-message">Available!</div>
                            <svg viewBox="0 0 67 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.05 0.950015H56.95C62.4979 0.956013 66.994 5.45212 67 11L67 24.4333C66.994 29.9812 62.4979 34.4773 56.95 34.4833H53.8459L55.811 44.3098C55.8955 44.7323 55.7292 45.1653 55.3846 45.4232C55.04 45.6811 54.5776 45.7176 54.1965 45.517L33.2241 34.4833H10.05C4.50211 34.4773 0.0059967 29.9812 0 24.4333V11C0.0059967 5.45212 4.50211 0.956013 10.05 0.950015ZM2.23333 24.4333C2.23824 28.7484 5.73491 32.2451 10.05 32.25H33.5C33.6816 32.25 33.8599 32.2942 34.0202 32.3787L53.1611 42.4532L51.389 33.5902C51.322 33.2614 51.4059 32.9201 51.618 32.6606C51.8301 32.4005 52.148 32.25 52.4833 32.25H56.95C61.2651 32.2451 64.7618 28.7484 64.7667 24.4333V11C64.7618 6.68493 61.2651 3.18826 56.95 3.18335H10.05C5.73491 3.18826 2.23824 6.68493 2.23333 11V24.4333Z" fill="black"/>
                            </svg>
                        </div>
                        <svg class="pokeball" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path id="outer-bottom-shade" d="M0 25C0 38.8071 11.1929 50 25 50C38.8071 50 50 38.8071 50 25H0Z" fill="#CFD8DC"/>
                        <path id="outer-bottom" opacity="0.2" d="M0 25C0 33.3333 7.14286 44.6429 25 44.6429C42.8571 44.6429 50 33.3333 50 25H0Z" fill="#E4E8EA"/>
                        <path id="outer-top" d="M50 25C50 11.1929 38.8071 0 25 0C11.1929 0 0 11.1929 0 25H50Z" fill="#FF3D00"/>
                        <path id="inner-bottom" d="M1.19043 24.9998C3.5 24.9998 46.5 25 48.8095 24.9998H1.19043Z" fill="#90A4AE"/>
                        <path id="inner-top" d="M1 25C4 24.6787 45.5 24.1787 48.619 25H1Z" fill="#546E7A"/>
                        <path id="middle-ring-bottom" d="M0 24.8215V26C1 26 4.5 26 9 26C13.5 26 19.2642 26 25 26C30.7358 26 36 26 40 26C44 26 48.5 26 50 26V25V24C48.5 24 44 24 39.5 24C35 24 30.5737 24 25 24C19.4263 24 13.5 24 9.5 24C5.5 24 1 24 0 24V24.8215Z" fill="#37474F"/>
                        <path id="middle-ring-top" d="M0 26C0.5 26 5.5 26 9.5 26C13.5 26 19.4263 26 25 26C30.5737 26 36 26 40 26C44 26 49 26 50 26V24.8213V24C49.5 24 45 24 40.5 24C36 24 30.7358 24 25 24C19.2642 24 13.5 24 8.77713 24C4.5 24 0.5 24 0 24V25V26Z" fill="#37474F"/>
                        <path id="middle-hole" d="M18.0379 24C18.0128 24.2433 18 24.4902 18 24.7402C18 28.6851 21.198 31.883 25.1429 31.883C29.0877 31.883 32.2857 28.6851 32.2857 24.7402C32.2857 24.4902 32.2729 24.2433 32.2478 24C27.6402 24.59 22.6455 24.59 18.0379 24Z" fill="#37474F"/>
                        <path id="middle-button" d="M31.1429 25.1429C31.1429 28.5355 28.3926 31.2857 25 31.2857C21.6074 31.2857 18.8572 28.5355 18.8572 25.1429C18.8572 21.7503 21.6074 19 25 19C28.3926 19 31.1429 21.7503 31.1429 25.1429Z" fill="#E4E8EA" stroke="#37474F" stroke-width="2"/>
                        <path id="middle-eye" d="M27.381 25.1429C27.381 26.4578 26.3151 27.5238 25.0001 27.5238C23.6851 27.5238 22.6191 26.4578 22.6191 25.1429C22.6191 23.8279 23.6851 22.7619 25.0001 22.7619C26.3151 22.7619 27.381 23.8279 27.381 25.1429Z" fill="#37474F"/>
                        </svg>
                    </div>
                    {% endwith %}
                    {% endwith %}
                    {% endwith %}
                    {% endwith %}
                    {% endwith %}
                    {% endfor %}
                </div>
                {% endfor %}
            </div>
            {% endfor %}
            <svg class="pokeball-open" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path id="outer-bottom-shade" d="M0 25C0 38.8071 11.1929 50 25 50C38.8071 50 50 38.8071 50 25H0Z" fill="#CFD8DC"/>
            <path id="outer-bottom" opacity="0.2" d="M0 25C0 33.3333 7.14286 44.6429 25 44.6429C42.8571 44.6429 50 33.3333 50 25H0Z" fill="#E4E8EA"/>
            <path id="outer-top" d="M50 25C50 11.1929 38.8071 0 25 0C11.1929 0 0 11.1929 0 25H50Z" fill="#FF3D00"/>
            <path id="inner-bottom" opacity="0.2" d="M48.8094 25C46.4282 38.0952 3.5717 38.0952 1.19043 25H48.8094Z" fill="#90A4AE"/>
            <path id="inner-top" d="M2.19043 24.9998C4.57138 11.9048 47.4285 11.9048 49.8095 24.9998H2.19043Z" fill="#546E7A"/>
            <path id="middle-ring-bottom" d="M0.174072 25L0.206565 25.1787C0.901555 29.0012 4.48413 31.6373 8.95117 33.303C13.4838 34.9931 19.2642 35.8214 25 35.8214C30.7357 35.8214 36.5161 34.9931 41.0488 33.303C45.5158 31.6373 49.0984 29.0012 49.7934 25.1787L49.8259 25H47.7898C47.2121 27.6458 44.5679 29.8562 40.35 31.429C36.1029 33.0127 30.5737 33.8214 25 33.8214C19.4262 33.8214 13.8971 33.0127 9.64994 31.429C5.43202 29.8562 2.78785 27.6458 2.21012 25H0.174072Z" fill="#37474F"/>
            <path id="middle-ring-top" d="M2.21012 24.9998C2.2101 24.9998 2.21013 24.9999 2.21012 24.9998C2.78777 22.354 5.43194 20.1436 9.64996 18.5708C13.8971 16.9872 19.4262 16.1785 25 16.1785C30.5737 16.1785 36.1029 16.9872 40.35 18.5708C44.568 20.1436 47.2122 22.354 47.7899 24.9998C47.7899 24.9999 47.7899 24.9998 47.7899 24.9998L49.8259 25L49.7934 24.8209C49.0984 20.9985 45.5158 18.3625 41.0488 16.6969C36.5161 15.0068 30.7358 14.1785 25 14.1785C19.2642 14.1785 13.4838 15.0068 8.95121 16.6969C4.48418 18.3625 0.901591 20.9985 0.206597 24.8209L0.174072 24.9998L2.21012 24.9998Z" fill="#37474F"/>
            <path id="middle-hole" d="M17.8951 34.3789C17.87 34.6222 17.8572 34.8691 17.8572 35.1191C17.8572 39.064 21.0551 42.2619 25 42.2619C28.9449 42.2619 32.1429 39.064 32.1429 35.1191C32.1429 34.8691 32.1301 34.6222 32.105 34.3789C27.4974 34.9689 22.5027 34.9689 17.8951 34.3789Z" fill="#37474F"/>
            <path id="middle-button" d="M31.1429 14.881C31.1429 18.2736 28.3926 21.0238 25 21.0238C21.6074 21.0238 18.8572 18.2736 18.8572 14.881C18.8572 11.4883 21.6074 8.7381 25 8.7381C28.3926 8.7381 31.1429 11.4883 31.1429 14.881Z" fill="#E4E8EA" stroke="#37474F" stroke-width="2"/>
            <path id="middle-eye" d="M27.381 14.881C27.381 16.1959 26.3151 17.2619 25.0001 17.2619C23.6851 17.2619 22.6191 16.1959 22.6191 14.881C22.6191 13.566 23.6851 12.5 25.0001 12.5C26.3151 12.5 27.381 13.566 27.381 14.881Z" fill="#37474F"/>
            </svg>

            <svg class="pokeball-closed" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path id="outer-bottom-shade" d="M0 25C0 38.8071 11.1929 50 25 50C38.8071 50 50 38.8071 50 25H0Z" fill="#CFD8DC"/>
            <path id="outer-bottom" opacity="0.2" d="M0 25C0 33.3333 7.14286 44.6429 25 44.6429C42.8571 44.6429 50 33.3333 50 25H0Z" fill="#E4E8EA"/>
            <path id="outer-top" d="M50 25C50 11.1929 38.8071 0 25 0C11.1929 0 0 11.1929 0 25H50Z" fill="#FF3D00"/>
            <path id="inner-bottom" d="M1.19043 24.9998C3.5 24.9998 46.5 25 48.8095 24.9998H1.19043Z" fill="#90A4AE"/>
            <path id="inner-top" d="M1 25C4 24.6787 45.5 24.1787 48.619 25H1Z" fill="#546E7A"/>
            <path id="middle-ring-bottom" d="M0 24.8215V26C1 26 4.5 26 9 26C13.5 26 19.2642 26 25 26C30.7358 26 36 26 40 26C44 26 48.5 26 50 26V25V24C48.5 24 44 24 39.5 24C35 24 30.5737 24 25 24C19.4263 24 13.5 24 9.5 24C5.5 24 1 24 0 24V24.8215Z" fill="#37474F"/>
            <path id="middle-ring-top" d="M0 26C0.5 26 5.5 26 9.5 26C13.5 26 19.4263 26 25 26C30.5737 26 36 26 40 26C44 26 49 26 50 26V24.8213V24C49.5 24 45 24 40.5 24C36 24 30.7358 24 25 24C19.2642 24 13.5 24 8.77713 24C4.5 24 0.5 24 0 24V25V26Z" fill="#37474F"/>
            <path id="middle-hole" d="M18.0379 24C18.0128 24.2433 18 24.4902 18 24.7402C18 28.6851 21.198 31.883 25.1429 31.883C29.0877 31.883 32.2857 28.6851 32.2857 24.7402C32.2857 24.4902 32.2729 24.2433 32.2478 24C27.6402 24.59 22.6455 24.59 18.0379 24Z" fill="#37474F"/>
            <path id="middle-button" d="M31.1429 25.1429C31.1429 28.5355 28.3926 31.2857 25 31.2857C21.6074 31.2857 18.8572 28.5355 18.8572 25.1429C18.8572 21.7503 21.6074 19 25 19C28.3926 19 31.1429 21.7503 31.1429 25.1429Z" fill="#E4E8EA" stroke="#37474F" stroke-width="2"/>
            <path id="middle-eye" d="M27.381 25.1429C27.381 26.4578 26.3151 27.5238 25.0001 27.5238C23.6851 27.5238 22.6191 26.4578 22.6191 25.1429C22.6191 23.8279 23.6851 22.7619 25.0001 22.7619C26.3151 22.7619 27.381 23.8279 27.381 25.1429Z" fill="#37474F"/>
            </svg>
        </div>

        <div class="slot-item-detail-col slot-item-price">${{ break.price }}</div>
        <div id="add-to-cart" class="slot-item-detail-col primary-button red-button" data-item="break">Add To Cart</div>
    </div>
</div>

<script src="{% static 'js/gsap.min.js' %}"></script>
<script src="{% static 'js/MorphSVGPlugin.min.js' %}"></script>
<script src="{% static 'js/pokeballAnimation.js' %}"></script>
<script src="{% static 'js/slotAddToCart.js' %}"></script>

{% endblock main %}
